# AI-Assisted Visual Frontend Editor (AI辅助前端可视化编辑器)

一个创新的本地Web开发工具，旨在通过直观的可视化操作与自动化提示词（Prompt）生成，彻底变革前端修改与迭代的工作流。

![项目主界面截图](https://raw.githubusercontent.com/kazeword/html-editor/master/assets/screenshot.png)
---

## 核心理念：搭建从“视觉”到“文本指令”的桥梁

传统的前端开发，尤其是在微调UI和实现迭代需求时，往往涉及一个繁琐的循环：“在浏览器中观察 -> 切换到编辑器 -> 寻找对应代码 -> 修改 -> 保存 -> 刷新浏览器 -> 再次观察”。

本项目旨在打破这一循环。它通过一个可视化的界面，让开发者可以直接在渲染后的页面上“指点江山”，用自然语言描述修改意图，然后将这些“视觉化”的需求，连同完整的代码上下文，自动翻译成一份结构化、高质量、可直接喂给大语言模型（LLM）的精确指令。

---

## 主要功能

*   **一体化工作台**:
    *   **代码编辑器**: 基于CodeMirror，提供语法高亮、行号等现代编辑器功能。
    *   **文件浏览器**: 以树状结构清晰展示项目文件，支持文件和文件夹的创建、重命名和删除。
    *   **实时预览浏览器**: 内嵌`iframe`，实时渲染HTML文件，并支持标签页和内部页面链接跳转。

*   **双模式交互**:
    *   **需求模式**: 核心工作模式。在此模式下，可以进行元素标注和需求管理。
        *   **动态悬停高亮 (黄框)**: 鼠标悬停在任何可交互元素上时，会出现黄色边框，用于预选目标。
        *   **持久需求标记 (紫框)**: 任何已关联修改需求的元素，都会显示紫色边框，一目了然。
    *   **浏览模式**: 一个纯净的预览环境。在此模式下，所有高亮标记和编辑交互都会被禁用，允许用户像在普通浏览器中一样测试页面的链接、动画和功能。

*   **可视化需求管理**:
    *   直接点击预览窗口中的任何元素（包括已标记元素的子元素），即可打开“管理元素需求”弹窗。
    *   支持为同一元素添加、**编辑**、删除多条需求。
    *   可以为每条需求设置三种状态：“待解决”、“已解决”、“低优先”。

*   **交互式AI提示词生成器**:
    *   **一键生成**: 根据所有“待解决”的需求，自动生成结构化的提示词。
    *   **Markdown渲染**: UI界面支持Markdown格式，使提示词具有极高的可读性。
    *   **模块化与可配置**:
        *   提示词被清晰地划分为“系统提示词”、“代码文件”和“用户需求”三部分。
        *   每个部分都支持折叠，且配有独立的开关（Switch），允许用户精细化控制最终要复制到剪贴板的内容。

*   **多文件感知**:
    *   系统提示词经过特殊优化，明确告知AI它可能需要创建新文件或同时修改多个文件。
    *   AI被要求以一种严格的、机器可解析的格式返回多文件代码，为未来实现“AI代码自动应用”功能奠定了基础。

---

## 如何开始 (Getting Started)

#### 1. 先决条件
*   确保您的电脑上已安装 [Python](https://www.python.org/downloads/) (版本 3.x)。
*   确保您的电脑上已安装 [Git](https://git-scm.com/downloads/)。

#### 2. 安装与启动
1.  **克隆仓库**:
    ```bash
    git clone https://github.com/kazeword/html-editor.git
    ```
2.  **进入项目目录**:
    ```bash
    cd html-editor
    ```
3.  **启动本地服务器**:
    ```bash
    python server.py
    ```
4.  **在浏览器中打开**:
    服务器启动后，会自动在您的默认浏览器中打开 `http://127.0.0.1:8000`。如果未能自动打开，请手动访问此地址。

---

## 使用工作流 (Workflow)

1.  **打开项目**: 点击文件浏览器顶部的“打开文件夹”图标，选择您本地的前端项目文件夹。
2.  **选择文件**: 在左侧文件树中点击一个HTML文件。该文件将在中间的代码编辑器中打开，并在右侧的浏览器窗口中进行渲染。
3.  **进入需求模式**: 确保浏览器窗口右上角的开关处于“需求模式”（蓝色高亮状态）。
4.  **添加需求**:
    *   在右侧预览窗口中，将鼠标移动到您想修改的元素上，它会显示**黄色**边框。
    *   点击该元素，会弹出“管理元素需求”对话框。
    *   在对话框中输入您的具体修改需求，然后点击“添加”。
    *   成功添加后，您会看到预览窗口中的目标元素显示了**紫色**边框。
5.  **生成提示词**:
    *   完成所有需求的添加后，切换到左下角的“AI 提示词”窗口。
    *   点击“生成AI提示词”按钮。
6.  **配置与复制**:
    *   提示词将在UI中以三段式、可折叠的形式展现。
    *   根据您的需要，使用开关来决定是否包含系统提示词、用户需求或特定的代码文件。
    *   点击“复制提示词”按钮。
7.  **与AI交互**:
    *   将复制好的提示词粘贴到您喜欢的大语言模型（如ChatGPT, Claude, Gemini等）中。
    *   AI将返回遵循了特定格式的代码。
8.  **应用代码**:
    *   将AI返回的代码，手动粘贴回代码编辑器中对应的文件，或创建新文件。
    *   点击“保存”按钮，右侧预览将自动刷新，展示修改后的效果。

---

## 技术栈

*   **前端**:
    *   **核心**: Vanilla JavaScript (ES6 Modules)
    *   **UI交互**: [Interact.js](https://interactjs.io/) (窗口拖拽、缩放)
    *   **代码编辑器**: [CodeMirror.js](https://codemirror.net/) (语法高亮)
    *   **Markdown渲染**: [Marked.js](https://marked.js.org/)
*   **后端**:
    *   **服务器**: Python + Flask (仅用于提供静态文件)

---

## 许可证

本项目采用 [MIT License](LICENSE) 开源。
